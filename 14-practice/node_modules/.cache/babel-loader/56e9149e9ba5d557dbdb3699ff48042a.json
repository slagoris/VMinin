{"remainingRequest":"/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/babel-loader/lib/index.js!/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/slag/Documents/GitHub/VMinin/14-practice/src/views/Auth.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice/src/views/Auth.vue","mtime":1657257312880},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/cache-loader/dist/cjs.js","mtime":1656919257525},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/babel-loader/lib/index.js","mtime":1656919258082},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/cache-loader/dist/cjs.js","mtime":1656919257525},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice/node_modules/vue-loader-v16/dist/index.js","mtime":1656919258489}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NsYWcvRG9jdW1lbnRzL0dpdEh1Yi9WTWluaW4vMTQtcHJhY3RpY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyB1c2VMb2dpbkZvcm0gfSBmcm9tICIuLi91c2UvbG9naW4tZm9ybSI7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGVycm9yIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkF1dGgiLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICAgIGlmIChyb3V0ZS5xdWVyeS5tZXNzYWdlKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdzZXRNZXNzYWdlJywgewogICAgICAgIHZhbHVlOiBlcnJvcihyb3V0ZS5xdWVyeS5tZXNzYWdlKSwKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHVzZUxvZ2luRm9ybSgpKTsKICB9Cn07"},{"version":3,"sources":["/Users/slag/Documents/GitHub/VMinin/14-practice/src/views/Auth.vue"],"names":[],"mappings":";AAyBA,SAAS,YAAT,QAA6B,mBAA7B;AACA,SAAS,QAAT,QAAyB,YAAzB;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,KAAR,QAAoB,gBAApB;AACA,eAAe;AACd,EAAA,IAAI,EAAE,MADQ;AAEd,EAAA,KAFc,mBAEN;AACP,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;;AACA,QAAI,KAAK,CAAC,KAAN,CAAY,OAAhB,EAAyB;AACxB,MAAA,KAAK,CAAC,QAAN,CAAe,YAAf,EAA6B;AAC5B,QAAA,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,KAAN,CAAY,OAAb,CADgB;AAE5B,QAAA,IAAI,EAAE;AAFsB,OAA7B;AAID;;AAEA,6BACI,YAAY,EADhB;AAGD;AAfc,CAAf","sourcesContent":["<template>\n\t\t<form class=\"card\" @submit.prevent=\"onSubmit\">\n\t\t\t<h1>Войти в систему</h1>\n\n\t\t\t<div :class=\"['form-control', { invalid: eError }]\">\n\t\t\t\t<label for=\"email\">Email</label>\n\t\t\t\t<input type=\"email\" id=\"email\" autocomplete=\"on\" v-model=\"email\" @blur=\"eBlur\">\n\t\t\t\t<small v-if=\"eError\">{{ eError }}</small>\n\t\t\t</div>\n\n\t\t\t<div :class=\"['form-control', { invalid: pError }]\">\n\t\t\t\t<label for=\"password\">Пароль</label>\n\t\t\t\t<input type=\"password\" id=\"password\" autocomplete=\"off\" v-model=\"password\" @blur=\"pBlur\">\n\t\t\t\t<small v-if=\"pError\">{{ pError }}</small>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\t\tclass=\"btn primary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t:disabled=\"isSubmitting || isToManyAttempts\"\n\t\t\t>Войти</button>\n\t\t\t<div v-if=\"isToManyAttempts\" class=\"text-danger\">Слишком частые попытки входа. Попробуйте позже.</div>\n\t\t</form>\n</template>\n\n<script>\nimport { useLoginForm } from \"../use/login-form\";\nimport { useRoute } from 'vue-router'\nimport {useStore} from \"vuex\";\nimport {error} from '../utils/error'\nexport default {\n\tname: \"Auth\",\n\tsetup() {\n\t\tconst route = useRoute()\n\t\tconst store = useStore()\n\t\tif (route.query.message) {\n\t\t\tstore.dispatch('setMessage', {\n\t\t\t\tvalue: error(route.query.message),\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t}\n\n\t\treturn {\n\t\t\t...useLoginForm()\n\t\t}\n\t}\n}\n</script>\n\n<!--<template>-->\n<!--\t<Form-->\n<!--\t\t\tclass=\"card\"-->\n<!--\t\t\t@submit=\"onSubmit\"-->\n<!--\t\t\t:validation-schema=\"schema\"-->\n<!--\t\t\tv-slot=\"{ isSubmitting, submitCount}\"-->\n<!--\t\t\tref=\"myForm\"-->\n<!--\t>-->\n<!--\t\tкол-во авторизаций {{ submitCount }}<br>-->\n<!--\t\t<h1>Войти в систему</h1>-->\n<!--\t\t<Field-->\n<!--\t\t\t\ttype=\"email\"-->\n<!--\t\t\t\tname=\"email\"-->\n<!--\t\t\t\tv-slot=\"{ field, errors, errorMessage }\"-->\n<!--\t\t>-->\n<!--\t\t\t<div class=\"form-control\" :class=\"{ invalid: errors.length }\">-->\n<!--\t\t\t\t<label for=\"email\">Пароль</label>-->\n<!--\t\t\t\t<input v-bind=\"field\" id=\"email\" type=\"text\" autocomplete=\"on\"/>-->\n<!--\t\t\t\t<small v-if=\"errorMessage\">{{ errorMessage }}</small>-->\n<!--\t\t\t</div>-->\n<!--\t\t</Field>-->\n\n<!--\t\t<Field type=\"password\" name=\"password\" #=\"{ field, errors, errorMessage }\">-->\n<!--\t\t\t<div class=\"form-control\" :class=\"{ invalid: errors.length}\">-->\n<!--\t\t\t\t<label for=\"password\">Пароль</label>-->\n<!--\t\t\t\t<input v-bind=\"field\" id=\"password\" type=\"password\" autocomplete=\"off\"/>-->\n<!--\t\t\t\t<small v-if=\"errors\">{{ errorMessage }}</small>-->\n<!--\t\t\t</div>-->\n<!--\t\t</Field>-->\n\n<!--\t\t<button-->\n<!--\t\t\t\tclass=\"btn primary\"-->\n<!--\t\t\t\ttype=\"submit\"-->\n<!--\t\t\t\t:disabled=\"isSubmitting || submitCount > 3\"-->\n<!--\t\t>Войти-->\n<!--\t\t</button>-->\n<!--\t\t<div v-if=\"submitCount > 3\">Слишком много попыток входа. Попробуйте через 1 минуту</div>-->\n<!--\t</Form>-->\n\n<!--</template>-->\n\n<!--<script>-->\n<!--import * as yup from 'yup';-->\n<!--import {Form, Field, ErrorMessage} from 'vee-validate'-->\n\n<!--export default {-->\n<!--\tname: \"Auth\",-->\n<!--\tcomponents: {-->\n<!--\t\tForm, Field, ErrorMessage-->\n<!--\t},-->\n<!--\tdata() {-->\n<!--\t\t// const { } = useSubmitCount()-->\n<!--\t\treturn {-->\n<!--\t\t\temail: '',-->\n<!--\t\t\tpassword: '',-->\n<!--\t\t\t// count,-->\n<!--\t\t\tschema: yup.object({-->\n<!--\t\t\t\temail:-->\n<!--\t\t\t\t\t\tyup-->\n<!--\t\t\t\t\t\t\t\t.string()-->\n<!--\t\t\t\t\t\t\t\t.trim()-->\n<!--\t\t\t\t\t\t\t\t.required('E-mail обязателен')-->\n<!--\t\t\t\t\t\t\t\t.email('Введите корректный e-mail'),-->\n\n<!--\t\t\t\tpassword:-->\n<!--\t\t\t\t\t\tyup-->\n<!--\t\t\t\t\t\t\t\t.string()-->\n<!--\t\t\t\t\t\t\t\t.trim()-->\n<!--\t\t\t\t\t\t\t\t.required('Пароль обязателен')-->\n<!--\t\t\t\t\t\t\t\t.min(8, 'Пароль не менее 8 символов')-->\n<!--\t\t\t})-->\n<!--\t\t}-->\n<!--\t},-->\n<!--\tcomputed: {-->\n\n<!--\t},-->\n<!--\tmethods: {-->\n<!--\t\tonSubmit(values) {-->\n<!--\t\t\tconsole.log(values); // send data to API-->\n<!--\t\t\t// reset the form and the field values to their initial values-->\n<!--\t\t\tthis.$refs.myForm.resetForm();-->\n<!--\t\t},-->\n<!--\t},-->\n<!--}-->\n<!--</script>-->\n\n<!--<style scoped>-->\n\n<!--</style>-->\n"],"sourceRoot":""}]}