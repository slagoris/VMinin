{"remainingRequest":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue?vue&type=template&id=1633063c","dependencies":[{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue","mtime":1657443397008},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/cache-loader/dist/cjs.js","mtime":1657261957447},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/babel-loader/lib/index.js","mtime":1657261957881},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1657261958079},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/cache-loader/dist/cjs.js","mtime":1657261957447},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/index.js","mtime":1657261957769}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgk8Zm9ybSBjbGFzcz0iY2FyZCIgcmVmPSJhdXRoRm9ybSIgQHN1Ym1pdC5wcmV2ZW50PSJvblN1Ym1pdCIgbm92YWxpZGF0ZT0idHJ1ZSI+CgkJPGgxPtCS0L7QudGC0Lgg0LIg0YHQuNGB0YLQtdC80YM8L2gxPgoKCQk8ZGl2IDpjbGFzcz0iWydmb3JtLWNvbnRyb2wnLCB7aW52YWxpZDogZXJyb3JzLmVtYWlsfV0iPgoJCQk8bGFiZWwgZm9yPSJlbWFpbCI+RW1haWw8L2xhYmVsPgoJCQk8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJlbWFpbCIgYXV0b2NvbXBsZXRlPSJvbiIgdi1tb2RlbD0iZW1haWwiIEBibHVyPSJmb3JtSXNWYWxpZCI+CgkJCTxzbWFsbCB2LWlmPSJlcnJvcnMuZW1haWwiPnt7IGVycm9ycy5lbWFpbCB9fTwvc21hbGw+CgkJPC9kaXY+CgoJCTxkaXYgOmNsYXNzPSJbJ2Zvcm0tY29udHJvbCcsIHtpbnZhbGlkOiBlcnJvcnMucGFzc3dvcmR9XSI+CgkJCTxsYWJlbCBmb3I9InBhc3N3b3JkIj7Qn9Cw0YDQvtC70Yw8L2xhYmVsPgoJCQk8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJvZmYiIHYtbW9kZWw9InBhc3N3b3JkIiBAYmx1cj0iZm9ybUlzVmFsaWQiIEBpbnB1dD0iZm9ybUlzVmFsaWQiPgoJCQk8c21hbGwgdi1pZj0iZXJyb3JzLnBhc3N3b3JkIj57eyBlcnJvcnMucGFzc3dvcmQgfX08L3NtYWxsPgoJCTwvZGl2PgoJCTxidXR0b24KCQkJCWNsYXNzPSJidG4gcHJpbWFyeSIKCQkJCXR5cGU9InN1Ym1pdCIKCQk+0JLQvtC50YLQuAoJCTwvYnV0dG9uPgoJPC9mb3JtPgo="},{"version":3,"sources":["/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue"],"names":[],"mappings":";CACC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEvB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACtD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACpF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrD,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACzD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACnH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3D,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue","sourceRoot":"","sourcesContent":["<template>\n\t<form class=\"card\" ref=\"authForm\" @submit.prevent=\"onSubmit\" novalidate=\"true\">\n\t\t<h1>Войти в систему</h1>\n\n\t\t<div :class=\"['form-control', {invalid: errors.email}]\">\n\t\t\t<label for=\"email\">Email</label>\n\t\t\t<input type=\"email\" id=\"email\" autocomplete=\"on\" v-model=\"email\" @blur=\"formIsValid\">\n\t\t\t<small v-if=\"errors.email\">{{ errors.email }}</small>\n\t\t</div>\n\n\t\t<div :class=\"['form-control', {invalid: errors.password}]\">\n\t\t\t<label for=\"password\">Пароль</label>\n\t\t\t<input type=\"password\" id=\"password\" autocomplete=\"off\" v-model=\"password\" @blur=\"formIsValid\" @input=\"formIsValid\">\n\t\t\t<small v-if=\"errors.password\">{{ errors.password }}</small>\n\t\t</div>\n\t\t<button\n\t\t\t\tclass=\"btn primary\"\n\t\t\t\ttype=\"submit\"\n\t\t>Войти\n\t\t</button>\n\t</form>\n</template>\n\n<script>\n\nimport {error} from \"../utils/error\";\n\nexport default {\n\tname: \"Auth\",\n\tmounted() {\n\t\tif(this.$route.query.message) {\n\t\t\tthis.$store.dispatch('setMessage', {\n\t\t\t\tvalue: error(this.$route.query.message),\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\terrors: {\n\t\t\t\temail: null,\n\t\t\t\tpassword: null\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tvalidEmail(email) {\n\t\t\tlet re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t\treturn re.test(email);\n\t\t},\n\t\tformIsValid() {\n\t\t\tlet isValid = true\n\t\t\tif (!this.email.length) {\n\t\t\t\tthis.errors.email = 'Email обязателен'\n\t\t\t\tisValid = false\n\t\t\t} else if (!this.validEmail(this.email)) {\n\t\t\t\tthis.errors.email = 'Введите корректный адрес электронной почты'\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.errors.email = null\n\t\t\t}\n\n\t\t\tif (!this.password.length) {\n\t\t\t\tthis.errors.password = 'Пароль обязателен'\n\t\t\t\tisValid = false\n\t\t\t} else if (this.password.length <= 5 && this.password.length > 0) {\n\t\t\t\tthis.errors.password = 'Пароль должен быть не меньше 6 символов'\n\t\t\t\tisValid = false\n\t\t\t} else {\n\t\t\t\tthis.errors.password = null\n\t\t\t}\n\t\t\treturn isValid\n\t\t},\n\t\tasync onSubmit() {\n\n\t\t\tif (this.formIsValid()) {\n\t\t\t\ttry {\n\t\t\t\t\tlet formData = {}\n\t\t\t\t\tformData.email = this.email\n\t\t\t\t\tformData.password = this.password\n\t\t\t\t\tconsole.log('Form: ' +  formData)\n\t\t\t\t\tthis.email = ''\n\t\t\t\t\tthis.password = ''\n\n\t\t\t\t\tawait  this.$store.dispatch('auth/login', formData)\n\t\t\t\t\tawait this.$router.push('/')\n\t\t\t\t} catch (e) {\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n"]}]}