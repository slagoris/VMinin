{"remainingRequest":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/babel-loader/lib/index.js!/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue?vue&type=template&id=1633063c","dependencies":[{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue","mtime":1657443397008},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/cache-loader/dist/cjs.js","mtime":1657261957447},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/babel-loader/lib/index.js","mtime":1657261957881},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1657261958079},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/cache-loader/dist/cjs.js","mtime":1657261957447},{"path":"/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/node_modules/vue-loader-v16/dist/index.js","mtime":1657261957769}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycyB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgxIiwgbnVsbCwgItCS0L7QudGC0Lgg0LIg0YHQuNGB0YLQtdC80YMiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgewogICJmb3IiOiAiZW1haWwiCn0sICJFbWFpbCIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8zID0gewogIGtleTogMAp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJsYWJlbCIsIHsKICAiZm9yIjogInBhc3N3b3JkIgp9LCAi0J/QsNGA0L7Qu9GMIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAwCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAiY2xhc3MiOiAiYnRuIHByaW1hcnkiLAogIHR5cGU6ICJzdWJtaXQiCn0sICLQktC+0LnRgtC4ICIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJmb3JtIiwgewogICAgImNsYXNzIjogImNhcmQiLAogICAgcmVmOiAiYXV0aEZvcm0iLAogICAgb25TdWJtaXQ6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMub25TdWJtaXQgJiYgJG9wdGlvbnMub25TdWJtaXQuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpLAogICAgbm92YWxpZGF0ZTogInRydWUiCiAgfSwgW19ob2lzdGVkXzEsIF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgImNsYXNzIjogWydmb3JtLWNvbnRyb2wnLCB7CiAgICAgIGludmFsaWQ6ICRkYXRhLmVycm9ycy5lbWFpbAogICAgfV0KICB9LCBbX2hvaXN0ZWRfMiwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAiZW1haWwiLAogICAgaWQ6ICJlbWFpbCIsCiAgICBhdXRvY29tcGxldGU6ICJvbiIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEuZW1haWwgPSAkZXZlbnQ7CiAgICB9KSwKICAgIG9uQmx1cjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5mb3JtSXNWYWxpZCAmJiAkb3B0aW9ucy5mb3JtSXNWYWxpZC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgbnVsbCwgNTQ0CiAgLyogSFlEUkFURV9FVkVOVFMsIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkZGF0YS5lbWFpbF1dKSwgJGRhdGEuZXJyb3JzLmVtYWlsID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJzbWFsbCIsIF9ob2lzdGVkXzMsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuZXJyb3JzLmVtYWlsKSwgMQogIC8qIFRFWFQgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0sIDIKICAvKiBDTEFTUyAqLwogICksIF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgImNsYXNzIjogWydmb3JtLWNvbnRyb2wnLCB7CiAgICAgIGludmFsaWQ6ICRkYXRhLmVycm9ycy5wYXNzd29yZAogICAgfV0KICB9LCBbX2hvaXN0ZWRfNCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgaWQ6ICJwYXNzd29yZCIsCiAgICBhdXRvY29tcGxldGU6ICJvZmYiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLnBhc3N3b3JkID0gJGV2ZW50OwogICAgfSksCiAgICBvbkJsdXI6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuZm9ybUlzVmFsaWQgJiYgJG9wdGlvbnMuZm9ybUlzVmFsaWQuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgIG9uSW5wdXQ6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuZm9ybUlzVmFsaWQgJiYgJG9wdGlvbnMuZm9ybUlzVmFsaWQuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIG51bGwsIDU0NAogIC8qIEhZRFJBVEVfRVZFTlRTLCBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEucGFzc3dvcmRdXSksICRkYXRhLmVycm9ycy5wYXNzd29yZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygic21hbGwiLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmVycm9ycy5wYXNzd29yZCksIDEKICAvKiBURVhUICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldLCAyCiAgLyogQ0xBU1MgKi8KICApLCBfaG9pc3RlZF82XSwgNTQ0CiAgLyogSFlEUkFURV9FVkVOVFMsIE5FRURfUEFUQ0ggKi8KICApOwp9"},{"version":3,"sources":["/Users/slag/Documents/GitHub/VMinin/14-practice-options-api/src/views/Auth.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<form class=\"card\" ref=\"authForm\" @submit.prevent=\"onSubmit\" novalidate=\"true\">\n\t\t<h1>Войти в систему</h1>\n\n\t\t<div :class=\"['form-control', {invalid: errors.email}]\">\n\t\t\t<label for=\"email\">Email</label>\n\t\t\t<input type=\"email\" id=\"email\" autocomplete=\"on\" v-model=\"email\" @blur=\"formIsValid\">\n\t\t\t<small v-if=\"errors.email\">{{ errors.email }}</small>\n\t\t</div>\n\n\t\t<div :class=\"['form-control', {invalid: errors.password}]\">\n\t\t\t<label for=\"password\">Пароль</label>\n\t\t\t<input type=\"password\" id=\"password\" autocomplete=\"off\" v-model=\"password\" @blur=\"formIsValid\" @input=\"formIsValid\">\n\t\t\t<small v-if=\"errors.password\">{{ errors.password }}</small>\n\t\t</div>\n\t\t<button\n\t\t\t\tclass=\"btn primary\"\n\t\t\t\ttype=\"submit\"\n\t\t>Войти\n\t\t</button>\n\t</form>\n</template>\n\n<script>\n\nimport {error} from \"../utils/error\";\n\nexport default {\n\tname: \"Auth\",\n\tmounted() {\n\t\tif(this.$route.query.message) {\n\t\t\tthis.$store.dispatch('setMessage', {\n\t\t\t\tvalue: error(this.$route.query.message),\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\terrors: {\n\t\t\t\temail: null,\n\t\t\t\tpassword: null\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tvalidEmail(email) {\n\t\t\tlet re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t\treturn re.test(email);\n\t\t},\n\t\tformIsValid() {\n\t\t\tlet isValid = true\n\t\t\tif (!this.email.length) {\n\t\t\t\tthis.errors.email = 'Email обязателен'\n\t\t\t\tisValid = false\n\t\t\t} else if (!this.validEmail(this.email)) {\n\t\t\t\tthis.errors.email = 'Введите корректный адрес электронной почты'\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.errors.email = null\n\t\t\t}\n\n\t\t\tif (!this.password.length) {\n\t\t\t\tthis.errors.password = 'Пароль обязателен'\n\t\t\t\tisValid = false\n\t\t\t} else if (this.password.length <= 5 && this.password.length > 0) {\n\t\t\t\tthis.errors.password = 'Пароль должен быть не меньше 6 символов'\n\t\t\t\tisValid = false\n\t\t\t} else {\n\t\t\t\tthis.errors.password = null\n\t\t\t}\n\t\t\treturn isValid\n\t\t},\n\t\tasync onSubmit() {\n\n\t\t\tif (this.formIsValid()) {\n\t\t\t\ttry {\n\t\t\t\t\tlet formData = {}\n\t\t\t\t\tformData.email = this.email\n\t\t\t\t\tformData.password = this.password\n\t\t\t\t\tconsole.log('Form: ' +  formData)\n\t\t\t\t\tthis.email = ''\n\t\t\t\t\tthis.password = ''\n\n\t\t\t\t\tawait  this.$store.dispatch('auth/login', formData)\n\t\t\t\t\tawait this.$router.push('/')\n\t\t\t\t} catch (e) {\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n"],"sourceRoot":""}]}